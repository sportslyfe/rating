!function(s){var t="like",l="dislike",i={init:function(t){this.opts=s.extend(!0,{},s.fn.likeDislike.defaults,t);var l=this.opts;return this.btns=s(this).find("."+l.likeBtnClass+", ."+l.dislikeBtnClass),this.readOnly=i.readOnly,l.readOnly=!l.readOnly,this.readOnly(!l.readOnly),l.activeBtn&&i._btnDown.call(this,l.activeBtn),this},readOnly:function(s){var t=this.opts;if(t.readOnly!==s){var l=this.btns;if(t.readOnly=s,s)i._unbind.call(this,l);else{if(!t.reverseMode){var n=l.not("."+t.activeClass);n.length&&(l=n)}i._bind.call(this,l)}}},_btnDown:function(s){var t=i._getBtnByType.call(this,s);t.addClass(this.opts.activeClass),this.opts.reverseMode||i._unbind.call(this,t)},_btnUp:function(s){var t=i._getBtnByType.call(this,s);this.opts.reverseMode||i._bind.call(this,t),t.removeClass(this.opts.activeClass)},_getBtnByType:function(i){return i===t?s(this).find("."+this.opts.likeBtnClass):i===l?s(this).find("."+this.opts.dislikeBtnClass):void s.error("Wrong button type: "+i)},_bind:function(n){var e=this,a=e.opts;n.removeClass(a.disabledClass),n.bind("click",function(n){var r=s(this),c=!(a.beforeClick&&!a.beforeClick.call(e,n));if(c){var o=r.hasClass(a.likeBtnClass)?t:l,d=e.btns.hasClass(a.activeClass),b=r.hasClass(a.activeClass),h=o,p=0,v=0;a.reverseMode?o===t?b?(i._btnUp.call(e,t),h="",p=-1):(i._btnDown.call(e,t),i._btnUp.call(e,l),v=d?-1:v,p=1):b?(i._btnUp.call(e,l),h="",v=-1):(i._btnDown.call(e,l),i._btnUp.call(e,t),p=d?-1:p,v=1):o===t?d?(i._btnUp.call(e,l),i._btnDown.call(e,t),v=b?v:-1,p=1):(i._btnDown.call(e,t),p=1):d?(i._btnUp.call(e,t),i._btnDown.call(e,l),p=b?p:-1,v=1):(i._btnDown.call(e,l),v=1),a.click.call(e,p,v,h,n)}})},_unbind:function(s){s.addClass(this.opts.disabledClass),s.unbind()}};s.fn.likeDislike=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void s.error("Method "+t+" does not exist!"):i.init.apply(this,arguments)},s.fn.likeDislike.defaults={click:null,beforeClick:null,activeBtn:"",readOnly:!1,reverseMode:!1,likeBtnClass:"like",dislikeBtnClass:"dislike",activeClass:"active",disabledClass:"disabled"}}(jQuery);